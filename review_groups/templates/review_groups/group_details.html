{% extends 'base.html' %}

{% block title %}Group details{% endblock %}

{% block content %}

<h1>{{ group.group_name }} Group Details</h1>
<ul>
    <p>Group ID: {{ group.group_id }}</p>
    <p>Group Name: {{ group.group_name }}</p>
    <p>Group Description: {{ group.group_description }}</p>
    <div>Group Movies:
        {% for movie in group.group_movies.all %}
        <div>
            {% if movie.movie_poster %}
            <img src="{{ movie.get_poster_url }}" alt="Movie Poster">
            {% endif %}
        </div>
        <div>
            {{ movie.movie_title }}
        </div>
        {% endfor %}
    </div>
    <p>Group Members:
        {% for member in group.group_members.all %}
        {{ member.username }}
        {% endfor %}
    </p>
    <p>Group Admin: {{ group.group_creator.username }}</p>
</ul>

{% if user.is_authenticated and group.group_creator == user %}
<a href="{% url 'edit_group' group.group_id %}">Edit Group</a>
<a href="{% url 'delete_group' group.group_id %}">Delete Group</a>
{% endif %}

<a href="{{ back_url }}">Back to all Groups</a>

{% endblock %}